{% extends 'base/form_bases.html' %}
{% load static %}
<!--
Author: W3layouts
Author URL: http://w3layouts.com
License: Creative Commons Attribution 3.0 Unported
License URL: http://creativecommons.org/licenses/by/3.0/
-->

{% block content %}
    <body>
    <a href="offer.html"><img src="images/download.png" class="img-head" alt=""></a>
    <div class="header">

        <div class="container">

            <div class="logo">
                <h1><a href="index.html"><b>T<br>H<br>E</b>Big Store<span>The Best Supermarket</span></a></h1>
            </div>


            <div class="header-ri">
                <ul class="social-top">
                    <li><a href="#" class="icon facebook"><i class="fa fa-facebook" aria-hidden="true"></i><span></span></a>
                    </li>
                    <li><a href="#" class="icon twitter"><i class="fa fa-twitter"
                                                            aria-hidden="true"></i><span></span></a></li>
                    <li><a href="#" class="icon pinterest"><i class="fa fa-pinterest-p"
                                                              aria-hidden="true"></i><span></span></a></li>
                    <li><a href="#" class="icon dribbble"><i class="fa fa-dribbble" aria-hidden="true"></i><span></span></a>
                    </li>
                </ul>
            </div>


            <div class="nav-top">
                <nav class="navbar navbar-default">

                    <div class="navbar-header nav_2">
                        <button type="button" class="navbar-toggle collapsed navbar-toggle1" data-toggle="collapse"
                                data-target="#bs-megadropdown-tabs">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>


                    </div>
                    <div class="collapse navbar-collapse" id="bs-megadropdown-tabs">
                        <ul class="nav navbar-nav ">
                            <li><a href="index.html" class="hyper "><span>Home</span></a></li>

                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle  hyper" data-toggle="dropdown"><span>Kitchen<b
                                        class="caret"></b></span></a>
                                <ul class="dropdown-menu multi">
                                    <div class="row">
                                        <div class="col-sm-3">
                                            <ul class="multi-column-dropdown">

                                                <li><a href="kitchen.html"><i class="fa fa-angle-right"
                                                                              aria-hidden="true"></i>Water &
                                                    Beverages</a></li>
                                                <li><a href="kitchen.html"><i class="fa fa-angle-right"
                                                                              aria-hidden="true"></i>Fruits & Vegetables</a>
                                                </li>
                                                <li><a href="kitchen.html"> <i class="fa fa-angle-right"
                                                                               aria-hidden="true"></i>Staples</a></li>
                                                <li><a href="kitchen.html"><i class="fa fa-angle-right"
                                                                              aria-hidden="true"></i>Branded Food</a>
                                                </li>

                                            </ul>

                                        </div>
                                        <div class="col-sm-3">

                                            <ul class="multi-column-dropdown">
                                                <li><a href="kitchen.html"><i class="fa fa-angle-right"
                                                                              aria-hidden="true"></i>Breakfast &amp;
                                                    Cereal</a></li>
                                                <li><a href="kitchen.html"><i class="fa fa-angle-right"
                                                                              aria-hidden="true"></i>Snacks</a></li>
                                                <li><a href="kitchen.html"><i class="fa fa-angle-right"
                                                                              aria-hidden="true"></i>Spices</a></li>
                                                <li><a href="kitchen.html"><i class="fa fa-angle-right"
                                                                              aria-hidden="true"></i>Biscuit &amp;
                                                    Cookie</a></li>
                                                <li><a href="kitchen.html"><i class="fa fa-angle-right"
                                                                              aria-hidden="true"></i>Sweets</a></li>

                                            </ul>

                                        </div>
                                        <div class="col-sm-3">

                                            <ul class="multi-column-dropdown">
                                                <li><a href="kitchen.html"><i class="fa fa-angle-right"
                                                                              aria-hidden="true"></i>Pickle & Condiment</a>
                                                </li>
                                                <li><a href="kitchen.html"><i class="fa fa-angle-right"
                                                                              aria-hidden="true"></i>Instant Food</a>
                                                </li>
                                                <li><a href="kitchen.html"><i class="fa fa-angle-right"
                                                                              aria-hidden="true"></i>Dry Fruit</a></li>
                                                <li><a href="kitchen.html"><i class="fa fa-angle-right"
                                                                              aria-hidden="true"></i>Tea &amp;
                                                    Coffee</a></li>

                                            </ul>
                                        </div>
                                        <div class="col-sm-3 w3l">
                                            <a href="kitchen.html"><img src='{% static "images/me.png" %}'
                                                                        class="img-responsive" alt=""></a>
                                        </div>
                                        <div class="clearfix"></div>
                                    </div>
                                </ul>
                            </li>
                            <li class="dropdown">

                                <a href="#" class="dropdown-toggle hyper" data-toggle="dropdown"><span> Personal Care <b
                                        class="caret"></b></span></a>
                                <ul class="dropdown-menu multi multi1">
                                    <div class="row">
                                        <div class="col-sm-3">
                                            <ul class="multi-column-dropdown">
                                                <li><a href="care.html"><i class="fa fa-angle-right"
                                                                           aria-hidden="true"></i> Ayurvedic </a></li>
                                                <li><a href="care.html"><i class="fa fa-angle-right"
                                                                           aria-hidden="true"></i>Baby Care</a></li>
                                                <li><a href="care.html"><i class="fa fa-angle-right"
                                                                           aria-hidden="true"></i>Cosmetics</a></li>
                                                <li><a href="care.html"><i class="fa fa-angle-right"
                                                                           aria-hidden="true"></i>Deo & Purfumes</a>
                                                </li>

                                            </ul>

                                        </div>
                                        <div class="col-sm-3">

                                            <ul class="multi-column-dropdown">
                                                <li><a href="care.html"> <i class="fa fa-angle-right"
                                                                            aria-hidden="true"></i>Hair Care </a></li>
                                                <li><a href="care.html"><i class="fa fa-angle-right"
                                                                           aria-hidden="true"></i>Oral Care</a></li>
                                                <li><a href="care.html"><i class="fa fa-angle-right"
                                                                           aria-hidden="true"></i>Personal Hygiene</a>
                                                </li>
                                                <li><a href="care.html"><i class="fa fa-angle-right"
                                                                           aria-hidden="true"></i>Skin care</a></li>

                                            </ul>

                                        </div>
                                        <div class="col-sm-3">

                                            <ul class="multi-column-dropdown">
                                                <li><a href="care.html"><i class="fa fa-angle-right"
                                                                           aria-hidden="true"></i> Fashion Accessories
                                                </a></li>
                                                <li><a href="care.html"><i class="fa fa-angle-right"
                                                                           aria-hidden="true"></i>Grooming Tools</a>
                                                </li>
                                                <li><a href="care.html"><i class="fa fa-angle-right"
                                                                           aria-hidden="true"></i>Shaving Need</a></li>
                                                <li><a href="care.html"><i class="fa fa-angle-right"
                                                                           aria-hidden="true"></i>Sanitary Needs</a>
                                                </li>

                                            </ul>
                                        </div>
                                        <div class="col-sm-3 w3l">
                                            <a href="care.html"><img src="images/me1.png" class="img-responsive" alt=""></a>
                                        </div>
                                        <div class="clearfix"></div>
                                    </div>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle hyper" data-toggle="dropdown"><span>Household<b
                                        class="caret"></b></span></a>
                                <ul class="dropdown-menu multi multi2">
                                    <div class="row">
                                        <div class="col-sm-3">
                                            <ul class="multi-column-dropdown">
                                                <li><a href="hold.html"><i class="fa fa-angle-right"
                                                                           aria-hidden="true"></i>Cleaning
                                                    Accessories</a></li>
                                                <li><a href="hold.html"><i class="fa fa-angle-right"
                                                                           aria-hidden="true"></i>CookWear</a></li>
                                                <li><a href="hold.html"><i class="fa fa-angle-right"
                                                                           aria-hidden="true"></i>Detergents</a></li>
                                                <li><a href="hold.html"><i class="fa fa-angle-right"
                                                                           aria-hidden="true"></i>Gardening Needs</a>
                                                </li>

                                            </ul>

                                        </div>
                                        <div class="col-sm-3">

                                            <ul class="multi-column-dropdown">
                                                <li><a href="hold.html"><i class="fa fa-angle-right"
                                                                           aria-hidden="true"></i>Kitchen & Dining</a>
                                                </li>
                                                <li><a href="hold.html"><i class="fa fa-angle-right"
                                                                           aria-hidden="true"></i>KitchenWear</a></li>
                                                <li><a href="hold.html"><i class="fa fa-angle-right"
                                                                           aria-hidden="true"></i>Pet Care</a></li>
                                                <li><a href="hold.html"><i class="fa fa-angle-right"
                                                                           aria-hidden="true"></i>Plastic Wear</a></li>

                                            </ul>

                                        </div>
                                        <div class="col-sm-3">

                                            <ul class="multi-column-dropdown">
                                                <li><a href="hold.html"><i class="fa fa-angle-right"
                                                                           aria-hidden="true"></i>Pooja Needs</a></li>
                                                <li><a href="hold.html"><i class="fa fa-angle-right"
                                                                           aria-hidden="true"></i>Serveware</a></li>
                                                <li><a href="hold.html"><i class="fa fa-angle-right"
                                                                           aria-hidden="true"></i>Safety Accessories</a>
                                                </li>
                                                <li><a href="hold.html"><i class="fa fa-angle-right"
                                                                           aria-hidden="true"></i>Festive Decoratives
                                                </a></li>

                                            </ul>
                                        </div>
                                        <div class="col-sm-3 w3l">
                                            <a href="hold.html"><img src="{% static 'images/me2.png' %}"
                                                                     class="img-responsive" alt=""></a>
                                        </div>
                                        <div class="clearfix"></div>
                                    </div>
                                </ul>
                            </li>

                            <li><a href="codes.html" class="hyper"> <span>Codes</span></a></li>
                            <li><a href="contact.html" class="hyper"><span>Contact Us</span></a></li>
                        </ul>
                    </div>
                </nav>
                <div class="cart">

                    <span class="fa fa-shopping-cart my-cart-icon"><span
                            class="badge badge-notify my-cart-badge"></span></span>
                </div>
                <div class="clearfix"></div>
            </div>

        </div>
    </div>
    <!---->
    <!--banner-->
    <div class="banner-top">
        <div class="container">
            <h3>Lorem</h3>
            <h4><a href="index.html">Home</a><label>/</label>Lorem</h4>
            <div class="clearfix"></div>
        </div>
    </div>
    <div class="single">
        <div class="container">
            <div class="single-top-main">
                <div class="col-md-5 single-top">
                    <div class="single-w3agile">

                        <div id="picture-frame" class="carousel slide" data-ride="carousel">
                            <!-- Indicators -->
                            <ol class="carousel-indicators">
                                {% for img in products.image_for_product.all %}
                                    <li data-target="#picture-frame" data-slide-to="{{ forloop.counter0 }}"
                                        {% if forloop.first %}class="active"{% endif %}></li>
                                {% endfor %}
                            </ol>

                            <!-- Wrapper for slides -->
                            <div class="carousel-inner">
                                {% for img in products.image_for_product.all %}
                                    <div class="carousel-item {% if forloop.first %}active{% endif %}">
                                        <img src="{{ img.product_image.url }}" alt=""
                                             class="img-responsive d-block w-100">
                                    </div>
                                {% endfor %}
                            </div>

                            <!-- Controls -->
                            <a class="carousel-control-prev" href="#picture-frame" role="button" data-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="sr-only">Previous</span>
                            </a>
                            <a class="carousel-control-next" href="#picture-frame" role="button" data-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="sr-only">Next</span>
                            </a>
                        </div>

                        <script src="{{ store.image.url }}"></script>
                        <script>
                            $(function () {
                                $("#picture-frame").zoomToo({
                                    magnify: 1
                                });
                            });
                        </script>


                    </div>
                </div>

                <div class="col-md-7 single-top-left ">
                {% if not request.user.is_authenticated %}
                 <div class="single-right">
    <h3>{{ products.name }}</h3>

    <div class="pr-single">
        {% if products.price_after %}
            <p class="reduced ">
                <del>price : {{ products.price }}</del>
                price after discount : {{ products.price_after }}</p>
        {% else %}
            <p class="reduced ">price : {{ products.price }}</p>
        {% endif %}
    </div>
    <div class="block block-w3">
        <div class="starbox small ghosting"></div>
    </div>
    <p class="in-pa">description : {{ products.description }}</p>
    <p> total rate : {{total_rate}}</p>

    <ul class="social-top">
        <li><a href="#" class="icon facebook"><i class="fa fa-facebook" aria-hidden="true"></i><span></span></a></li>
        <li><a href="#" class="icon twitter"><i class="fa fa-twitter" aria-hidden="true"></i><span></span></a></li>
        <li><a href="#" class="icon pinterest"><i class="fa fa-pinterest-p" aria-hidden="true"></i><span></span></a></li>
        <li><a href="#" class="icon dribbble"><i class="fa fa-dribbble" aria-hidden="true"></i><span></span></a></li>
    </ul>
    <div class="add">
        <form id="dataForm">
            <input type="number" id="quantity" name="number" placeholder="Enter quantity">
            <button type="submit">Add to Cart</button>
        </form>
    </div>
    {% if can_rate %}
        <a href="{% url 'website:product_rate' products.id %}"> test</a>
    {% endif %}
    <div class="clearfix"></div>
</div>

<script>
document.getElementById('dataForm').addEventListener('submit', function(event) {
    event.preventDefault();
    
    const productId = parseInt("{{ products.id }}");
    const quantity = parseInt(document.getElementById('quantity').value);
    
    
    localStorage.setItem('productId', productId);
    localStorage.setItem('quantity', quantity);

    fetch('{% url 'orders:api:product_list' %}', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
            'X-CSRFToken': '{{ csrf_token }}'
        },
        body: JSON.stringify({ id: productId, number: quantity })
    })
    .then(response => response.json())
    .then(data => console.log(data))
    .catch(error => console.error('Error:', error));
});
</script>

                {% endif %}
                {% if request.user.is_authenticated %}
<div class="single-right">
    <h3>{{ products.name }}</h3>

    <div class="pr-single">
        {% if products.price_after %}
            <p class="reduced ">
                <del>price : {{ products.price }}</del>
                price after discount : {{ products.price_after }}</p>
        {% else %}
            <p class="reduced ">price : {{ products.price }}</p>
        {% endif %}
    </div>
    <div class="block block-w3">
        <div class="starbox small ghosting"></div>
    </div>
    <p class="in-pa">description : {{ products.description }}</p>
    <p> total rate : {{total_rate}}</p>

    <ul class="social-top">
        <li><a href="#" class="icon facebook"><i class="fa fa-facebook" aria-hidden="true"></i><span></span></a></li>
        <li><a href="#" class="icon twitter"><i class="fa fa-twitter" aria-hidden="true"></i><span></span></a></li>
        <li><a href="#" class="icon pinterest"><i class="fa fa-pinterest-p" aria-hidden="true"></i><span></span></a></li>
        <li><a href="#" class="icon dribbble"><i class="fa fa-dribbble" aria-hidden="true"></i><span></span></a></li>
    </ul>
    <div class="add">
        <form id="dataForm">
            <input type="number" id="quantity" name="number" placeholder="Enter quantity">
            <button type="submit">Add to Cart</button>
        </form>
    </div>
    {% if can_rate %}
        <a href="{% url 'website:product_rate' products.id %}"> test</a>
    {% endif %}
    <div class="clearfix"></div>
</div>

<script>
document.getElementById('dataForm').addEventListener('submit', function(event) {
    event.preventDefault();
    
    const productId = parseInt("{{ products.id }}");
     const quantity = parseInt(document.getElementById('quantity').value);
    
    fetch('{% url 'orders:api:cart_items_api' %}', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
            'X-CSRFToken': '{{ csrf_token }}'
        },
        body: JSON.stringify({ id: productId, number: quantity })
    })
    .then(response => response.json())
    .then(data => console.log(data))
    .catch(error => console.error('Error:', error));
});
</script>
{% endif %}

                </div>
                <div class="clearfix"></div>
            </div>


        </div>
    </div>
    <!---->
    <div class="content-top offer-w3agile">
        <div class="container ">
            <div class="spec ">
                <h3>Comments</h3>
                <div class="ser-t">
                    <b></b>
                    <span><i></i></span>
                    <b class="line"></b>
                </div>
            </div>
            <div class="row d-flex justify-content-center">
                <div class="col-md-8 col-lg-6">
                    <div class="card shadow-0 border" style="background-color: #f0f2f5;">
                        <div class="card-body p-4">
                            <div data-mdb-input-init class="form-outline mb-4">
                                <form method="post">
                                    {% csrf_token %}
                                    {{ add_comments.as_p }}

                                    <button type="submit" class="btn btn-primary">Submit</button>
                                </form>

                            </div>

                            <div class="card mb-4">
                                <div class="card-body">


                                </div>
                            </div>

                            <div class="card mb-4">
                                <div class="card-body">

                                    {% for i in comments %}
                                        <div class="d-flex justify-content-between">
                                            <div class="d-flex flex-row align-items-center">
                                                <img src="https://mdbcdn.b-cdn.net/img/Photos/Avatars/img%20(32).webp"
                                                     alt="avatar" width="25" height="25">
                                                <div style="display: inline">
                                                    <p>{{ i.user.first_name }} says</p>

                                                    <p class="small mb-0 ms-2">{{ i.descriptions }}</p>
                                                </div>
                                            </div>
                                            <div class="d-flex flex-row align-items-center">
                                                <p class="small text-muted mb-0">Upvote?</p>
                                                <i class="far fa-thumbs-up mx-2 fa-xs text-body"
                                                   style="margin-top: -0.16rem;"></i>
                                                <p class="small text-muted mb-0">4</p>
                                            </div>
                                        </div>
                                    {% endfor %}
                                </div>
                            </div>


                        </div>
                    </div>
                </div>
            </div>


        </div>
    </div>

    <!-- smooth scrolling -->
    <script type="text/javascript">
        $(document).ready(function () {
            /*
                var defaults = {
                containerID: 'toTop', // fading element id
                containerHoverID: 'toTopHover', // fading element hover id
                scrollSpeed: 1200,
                easingType: 'linear'
                };
            */
            $().UItoTop({easingType: 'easeOutQuart'});
        });
    </script>
    <a href="#" id="toTop" style="display: block;"> <span id="toTopHover" style="opacity: 1;"> </span></a>
    <!-- //smooth scrolling -->
    <!-- for bootstrap working -->
    <script src="js/bootstrap.js"></script>
    <!-- //for bootstrap working -->
    <script type='text/javascript' src="js/jquery.mycart.js"></script>
    <script type="text/javascript">
        $(function () {

            var goToCartIcon = function ($addTocartBtn) {
                var $cartIcon = $(".my-cart-icon");
                var $image = $('<img width="30px" height="30px" src="' + $addTocartBtn.data("image") + '"/>').css({
                    "position": "fixed",
                    "z-index": "999"
                });
                $addTocartBtn.prepend($image);
                var position = $cartIcon.position();
                $image.animate({
                    top: position.top,
                    left: position.left
                }, 500, "linear", function () {
                    $image.remove();
                });
            }

            $('.my-cart-btn').myCart({
                classCartIcon: 'my-cart-icon',
                classCartBadge: 'my-cart-badge',
                affixCartIcon: true,
                checkoutCart: function (products) {
                    $.each(products, function () {
                        console.log(this);
                    });
                },
                clickOnAddToCart: function ($addTocart) {
                    goToCartIcon($addTocart);
                },
                getDiscountPrice: function (products) {
                    var total = 0;
                    $.each(products, function () {
                        total += this.quantity * this.price;
                    });
                    return total * 1;
                }
            });

        });
    </script>


    <!-- product -->
    <div class="modal fade" id="myModal5" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content modal-info">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                </div>
                <div class="modal-body modal-spa">
                    <div class="col-md-5 span-2">
                        <div class="item">
                            <img src="images/of4.png" class="img-responsive" alt="">
                        </div>
                    </div>
                    <div class="col-md-7 span-1 ">
                        <h3>Lays(100 g)</h3>
                        <p class="in-para"> There are many variations of passages of Lorem Ipsum.</p>
                        <div class="price_single">
                            <span class="reducedfrom "><del>$1.00</del>$0.70</span>

                            <div class="clearfix"></div>
                        </div>
                        <h4 class="quick">Quick Overview:</h4>
                        <p class="quick_desc"> Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet
                            doming id quod mazim placerat facer possim assum. Typi non habent claritatem insitam; es</p>
                        <div class="add-to">
                            <button class="btn btn-danger my-cart-btn my-cart-btn1 " data-id="5" data-name="Lays"
                                    data-summary="summary 5" data-price="0.70" data-quantity="1"
                                    data-image="images/of4.png">Add to Cart
                            </button>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>
    </div>
    <!-- product -->
    <div class="modal fade" id="myModal6" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content modal-info">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                </div>
                <div class="modal-body modal-spa">
                    <div class="col-md-5 span-2">
                        <div class="item">
                            <img src="images/of5.png" class="img-responsive" alt="">
                        </div>
                    </div>
                    <div class="col-md-7 span-1 ">
                        <h3>Kurkure(100 g)</h3>
                        <p class="in-para"> There are many variations of passages of Lorem Ipsum.</p>
                        <div class="price_single">
                            <span class="reducedfrom "><del>$1.00</del>$0.70</span>

                            <div class="clearfix"></div>
                        </div>
                        <h4 class="quick">Quick Overview:</h4>
                        <p class="quick_desc"> Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet
                            doming id quod mazim placerat facer possim assum. Typi non habent claritatem insitam; es</p>
                        <div class="add-to">
                            <button class="btn btn-danger my-cart-btn my-cart-btn1 " data-id="6" data-name="Kurkure"
                                    data-summary="summary 6" data-price="0.70" data-quantity="1"
                                    data-image="images/of5.png">Add to Cart
                            </button>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>
    </div>
    <!-- product -->
    <div class="modal fade" id="myModal7" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content modal-info">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                </div>
                <div class="modal-body modal-spa">
                    <div class="col-md-5 span-2">
                        <div class="item">
                            <img src="images/of6.png" class="img-responsive" alt="">
                        </div>
                    </div>
                    <div class="col-md-7 span-1 ">
                        <h3>Popcorn(250 g)</h3>
                        <p class="in-para"> There are many variations of passages of Lorem Ipsum.</p>
                        <div class="price_single">
                            <span class="reducedfrom "><del>$2.00</del>$1.00</span>

                            <div class="clearfix"></div>
                        </div>
                        <h4 class="quick">Quick Overview:</h4>
                        <p class="quick_desc"> Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet
                            doming id quod mazim placerat facer possim assum. Typi non habent claritatem insitam; es</p>
                        <div class="add-to">
                            <button class="btn btn-danger my-cart-btn my-cart-btn1 " data-id="7" data-name="Popcorn"
                                    data-summary="summary 7" data-price="1.00" data-quantity="1"
                                    data-image="images/of6.png">Add to Cart
                            </button>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>
    </div>
    <!-- product -->
    <div class="modal fade" id="myModal8" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content modal-info">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                </div>
                <div class="modal-body modal-spa">
                    <div class="col-md-5 span-2">
                        <div class="item">
                            <img src="images/of7.png" class="img-responsive" alt="">
                        </div>
                    </div>
                    <div class="col-md-7 span-1 ">
                        <h3>Nuts(250 g)</h3>
                        <p class="in-para"> There are many variations of passages of Lorem Ipsum.</p>
                        <div class="price_single">
                            <span class="reducedfrom "><del>$4.00</del>$3.50</span>

                            <div class="clearfix"></div>
                        </div>
                        <h4 class="quick">Quick Overview:</h4>
                        <p class="quick_desc"> Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet
                            doming id quod mazim placerat facer possim assum. Typi non habent claritatem insitam; es</p>
                        <div class="add-to">
                            <button class="btn btn-danger my-cart-btn my-cart-btn1 " data-id="8" data-name="Nuts"
                                    data-summary="summary 8" data-price="3.50" data-quantity="1"
                                    data-image="images/of7.png">Add to Cart
                            </button>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>
    </div>
    <!-- product -->
    <div class="modal fade" id="myModal9" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content modal-info">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                </div>
                <div class="modal-body modal-spa">
                    <div class="col-md-5 span-2">
                        <div class="item">
                            <img src="images/of8.png" class="img-responsive" alt="">
                        </div>
                    </div>
                    <div class="col-md-7 span-1 ">
                        <h3>Banana(6 pcs)</h3>
                        <p class="in-para"> There are many variations of passages of Lorem Ipsum.</p>
                        <div class="price_single">
                            <span class="reducedfrom "><del>$2.00</del>$1.50</span>

                            <div class="clearfix"></div>
                        </div>
                        <h4 class="quick">Quick Overview:</h4>
                        <p class="quick_desc"> Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet
                            doming id quod mazim placerat facer possim assum. Typi non habent claritatem insitam; es</p>
                        <div class="add-to">
                            <button class="btn btn-danger my-cart-btn my-cart-btn1 " data-id="9" data-name="Banana"
                                    data-summary="summary 9" data-price="1.50" data-quantity="1"
                                    data-image="images/of8.png">Add to Cart
                            </button>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>
    </div>
    <!-- product -->
    <div class="modal fade" id="myModal10" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content modal-info">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                </div>
                <div class="modal-body modal-spa">
                    <div class="col-md-5 span-2">
                        <div class="item">
                            <img src="images/of9.png" class="img-responsive" alt="">
                        </div>
                    </div>
                    <div class="col-md-7 span-1 ">
                        <h3>Onion(1 kg)</h3>
                        <p class="in-para"> There are many variations of passages of Lorem Ipsum.</p>
                        <div class="price_single">
                            <span class="reducedfrom "><del>$1.00</del>$0.70</span>

                            <div class="clearfix"></div>
                        </div>
                        <h4 class="quick">Quick Overview:</h4>
                        <p class="quick_desc"> Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet
                            doming id quod mazim placerat facer possim assum. Typi non habent claritatem insitam; es</p>
                        <div class="add-to">
                            <button class="btn btn-danger my-cart-btn my-cart-btn1 " data-id="10" data-name="Onion"
                                    data-summary="summary 10" data-price="0.70" data-quantity="1"
                                    data-image="images/of9.png">Add to Cart
                            </button>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>
    </div>
    <!-- product -->
    <div class="modal fade" id="myModal11" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content modal-info">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                </div>
                <div class="modal-body modal-spa">
                    <div class="col-md-5 span-2">
                        <div class="item">
                            <img src="images/of10.png" class="img-responsive" alt="">
                        </div>
                    </div>
                    <div class="col-md-7 span-1 ">
                        <h3>Bitter Gourd(1 kg)</h3>
                        <p class="in-para"> There are many variations of passages of Lorem Ipsum.</p>
                        <div class="price_single">
                            <span class="reducedfrom "><del>$2.00</del>$1.00</span>

                            <div class="clearfix"></div>
                        </div>
                        <h4 class="quick">Quick Overview:</h4>
                        <p class="quick_desc"> Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet
                            doming id quod mazim placerat facer possim assum. Typi non habent claritatem insitam; es</p>
                        <div class="add-to">
                            <button class="btn btn-danger my-cart-btn my-cart-btn1 " data-id="11"
                                    data-name="Bitter Gourd" data-summary="summary 11" data-price="1.00"
                                    data-quantity="1" data-image="images/of10.png">Add to Cart
                            </button>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>
    </div>
    <!-- product -->
    <div class="modal fade" id="myModal12" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content modal-info">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                </div>
                <div class="modal-body modal-spa">
                    <div class="col-md-5 span-2">
                        <div class="item">
                            <img src="images/of11.png" class="img-responsive" alt="">
                        </div>
                    </div>
                    <div class="col-md-7 span-1 ">
                        <h3>Apples(1 kg)</h3>
                        <p class="in-para"> There are many variations of passages of Lorem Ipsum.</p>
                        <div class="price_single">
                            <span class="reducedfrom "><del>$4.00</del>$3.50</span>

                            <div class="clearfix"></div>
                        </div>
                        <h4 class="quick">Quick Overview:</h4>
                        <p class="quick_desc"> Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet
                            doming id quod mazim placerat facer possim assum. Typi non habent claritatem insitam; es</p>
                        <div class="add-to">
                            <button class="btn btn-danger my-cart-btn my-cart-btn1 " data-id="12" data-name="Apples"
                                    data-summary="summary 12" data-price="3.50" data-quantity="1"
                                    data-image="images/of11.png">Add to Cart
                            </button>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>
    </div>
    <!-- product -->
    <div class="modal fade" id="myModal13" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content modal-info">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                </div>
                <div class="modal-body modal-spa">
                    <div class="col-md-5 span-2">
                        <div class="item">
                            <img src="images/of12.png" class="img-responsive" alt="">
                        </div>
                    </div>
                    <div class="col-md-7 span-1 ">
                        <h3>Honey(500 g)</h3>
                        <p class="in-para"> There are many variations of passages of Lorem Ipsum.</p>
                        <div class="price_single">
                            <span class="reducedfrom "><del>$7.00</del>$6.00</span>

                            <div class="clearfix"></div>
                        </div>
                        <h4 class="quick">Quick Overview:</h4>
                        <p class="quick_desc"> Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet
                            doming id quod mazim placerat facer possim assum. Typi non habent claritatem insitam; es</p>
                        <div class="add-to">
                            <button class="btn btn-danger my-cart-btn my-cart-btn1 " data-id="13" data-name="Honey"
                                    data-summary="summary 13" data-price="6.00" data-quantity="1"
                                    data-image="images/of12.png">Add to Cart
                            </button>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>
    </div>
    <!-- product -->
    <div class="modal fade" id="myModal14" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content modal-info">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                </div>
                <div class="modal-body modal-spa">
                    <div class="col-md-5 span-2">
                        <div class="item">
                            <img src="images/of13.png" class="img-responsive" alt="">
                        </div>
                    </div>
                    <div class="col-md-7 span-1 ">
                        <h3>Chocos(250 g)</h3>
                        <p class="in-para"> There are many variations of passages of Lorem Ipsum.</p>
                        <div class="price_single">
                            <span class="reducedfrom "><del>$5.00</del>$4.50</span>

                            <div class="clearfix"></div>
                        </div>
                        <h4 class="quick">Quick Overview:</h4>
                        <p class="quick_desc"> Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet
                            doming id quod mazim placerat facer possim assum. Typi non habent claritatem insitam; es</p>
                        <div class="add-to">
                            <button class="btn btn-danger my-cart-btn my-cart-btn1 " data-id="14" data-name="Chocos"
                                    data-summary="summary 14" data-price="4.50" data-quantity="1"
                                    data-image="images/of13.png">Add to Cart
                            </button>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>
    </div>
    <!-- product -->
    <div class="modal fade" id="myModal15" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content modal-info">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                </div>
                <div class="modal-body modal-spa">
                    <div class="col-md-5 span-2">
                        <div class="item">
                            <img src="images/of14.png" class="img-responsive" alt="">
                        </div>
                    </div>
                    <div class="col-md-7 span-1 ">
                        <h3>Oats(1 kg)</h3>
                        <p class="in-para"> There are many variations of passages of Lorem Ipsum.</p>
                        <div class="price_single">
                            <span class="reducedfrom "><del>$4.00</del>$3.50</span>

                            <div class="clearfix"></div>
                        </div>
                        <h4 class="quick">Quick Overview:</h4>
                        <p class="quick_desc"> Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet
                            doming id quod mazim placerat facer possim assum. Typi non habent claritatem insitam; es</p>
                        <div class="add-to">
                            <button class="btn btn-danger my-cart-btn my-cart-btn1 " data-id="15" data-name="Oats"
                                    data-summary="summary 15" data-price="3.50" data-quantity="1"
                                    data-image="images/of14.png">Add to Cart
                            </button>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>
    </div>
    <!-- product -->
    <div class="modal fade" id="myModal16" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content modal-info">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                </div>
                <div class="modal-body modal-spa">
                    <div class="col-md-5 span-2">
                        <div class="item">
                            <img src="images/of15.png" class="img-responsive" alt="">
                        </div>
                    </div>
                    <div class="col-md-7 span-1 ">
                        <h3>Bread(500 g)</h3>
                        <p class="in-para"> There are many variations of passages of Lorem Ipsum.</p>
                        <div class="price_single">
                            <span class="reducedfrom "><del>$1.00</del>$0.80</span>

                            <div class="clearfix"></div>
                        </div>
                        <h4 class="quick">Quick Overview:</h4>
                        <p class="quick_desc"> Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet
                            doming id quod mazim placerat facer possim assum. Typi non habent claritatem insitam; es</p>
                        <div class="add-to">
                            <button class="btn btn-danger my-cart-btn my-cart-btn1 " data-id="16" data-name="Bread"
                                    data-summary="summary 16" data-price="0.80" data-quantity="1"
                                    data-image="images/of15.png">Add to Cart
                            </button>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>
    </div>

    </body>
    <script type="text/javascript">
        $(document).ready(function () {
            $('.slider').slick({
                dots: true,
                infinite: true,
                speed: 300,
                slidesToShow: 1,
                adaptiveHeight: true
            });
        });
    </script>
     <script>
        //   Local Storage   
        window.onload = function() {
            localStorage.removeItem('cart');
            console.log('Local Storage cleared');
        };

        document.getElementById('add-to-cart-form').addEventListener('submit', function(event) {
            event.preventDefault();
            const productId = {{ product.id }};
            const quantity = parseInt(document.querySelector('input[name="quantity"]').value, 10);

            //    Local Storage
            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            cart.push({ productId: productId, quantity: quantity });
            localStorage.setItem('cart', JSON.stringify(cart));
            console.log(cart);

            //    
            const cartData = JSON.parse(localStorage.getItem('cart'));
            cartData.forEach(item => {
                fetch('/orders/api/cart-items/', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-CSRFToken': '{{ csrf_token }}'
                    },
                    body: JSON.stringify(item)
                })
                .then(response => response.json())
                .then(data => {
                    console.log('Success:', data);
                })
                .catch((error) => {
                    console.error('Error:', error);
                });
            });
        });
    </script>

{% endblock content %}
